(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-auth"],{"00db":function(e,t,n){},"07ac":function(e,t,n){var a=n("23e7"),i=n("6f53").values;a({target:"Object",stat:!0},{values:function(e){return i(e)}})},"212c":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),i=function(e){return Object(a["z"])("data-v-fe18fc5a"),e=e(),Object(a["x"])(),e},r=i((function(){return Object(a["i"])("h1",{style:{textAlign:"center","margin-bottom":"30px"}},"Sign-in / Sign-up",-1)})),c={key:0},o={key:1},l=Object(a["j"])(" Sign in "),u=i((function(){return Object(a["i"])("p",{style:{marginTop:"2rem",width:"100%",textAlign:"center",fontSize:"1.2rem",fontWeight:"bold"}}," OR ",-1)})),d=Object(a["j"])(" Sign up "),s={key:0,class:"inline-error"};function b(e,t,n,i,b,f){var v=Object(a["E"])("FormInput"),p=Object(a["E"])("BaseSpinner"),j=Object(a["E"])("BaseButton");return Object(a["w"])(),Object(a["h"])("section",null,[r,Object(a["i"])("form",{onSubmit:t[2]||(t[2]=Object(a["N"])((function(){}),["prevent"])),style:{margin:"0 auto"}},[Object(a["k"])(v,{type:"email",id:"email",label:"Email",modelValue:b.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.user.email=e}),modelModifiers:{trim:!0},invalid:b.invalid.email,onInput:f.validate},null,8,["modelValue","invalid","onInput"]),Object(a["k"])(v,{type:"password",id:"password",label:"Password",modelValue:b.user.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.user.password=e}),modelModifiers:{trim:!0},invalid:b.invalid.password,onInput:f.validate},null,8,["modelValue","invalid","onInput"]),e.isLoading?(Object(a["w"])(),Object(a["h"])("div",c,[Object(a["k"])(p)])):(Object(a["w"])(),Object(a["h"])("div",o,[Object(a["k"])(j,{id:"signin",style:{marginTop:"2rem",width:"100%"},disabled:!b.enableButton,mode:"register",class:Object(a["r"])(b.enableButton?"valid":"invalid"),onClick:f.submitForm},{default:Object(a["L"])((function(){return[l]})),_:1},8,["disabled","class","onClick"]),u,Object(a["k"])(j,{id:"signup",type:"button",style:{marginTop:"2rem",width:"100%"},disabled:!b.enableButton,class:Object(a["r"])(b.enableButton?"":"invalid"),onClick:f.submitForm},{default:Object(a["L"])((function(){return[d]})),_:1},8,["disabled","class","onClick"]),Object(a["k"])(a["b"],{name:"error"},{default:Object(a["L"])((function(){return[e.isError?(Object(a["w"])(),Object(a["h"])("div",s,Object(a["H"])(e.isError),1)):Object(a["g"])("",!0)]})),_:1})]))],32)])}var f=n("1da1"),v=n("5530"),p=(n("96cf"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("07ac"),n("5502")),j=n("b34f"),O={components:{FormInput:j["a"]},data:function(){return{invalid:{email:!0,password:!0},user:{email:"",password:""},enableButton:!1}},computed:Object(v["a"])(Object(v["a"])({},Object(p["c"])(["isLoading","isError"])),Object(p["c"])("coaches",["getCoach"])),methods:Object(v["a"])(Object(v["a"])({},Object(p["b"])(["authenticate","loadingStart","loadingFinish","loadingError"])),{},{validate:function(e){var t=e.target,n=t.id,a=t.value;"email"!==n||a.includes("@")&&a.includes(".")?this.invalid[n]=""===a||a.length<6:this.invalid[n]=!0},submitForm:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.target.id,i=t.$route.query.redirect,n.prev=2,t.loadingStart(),n.next=6,t.authenticate({user:t.user,id:a});case 6:t.user.email="",t.user.password="",t.loadingFinish(),t.$router.replace(i&&!t.getCoach?"/register":"/coaches"),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](2),t.loadingFinish(),t.loadingError(n.t0.message||"Network error - please try again later.");case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()}}),watch:{invalid:{handler:function(e){this.enableButton=!Object.values(e).includes(!0)},deep:!0}}},m=(n("4af5"),n("6b0d")),h=n.n(m);const g=h()(O,[["render",b],["__scopeId","data-v-fe18fc5a"]]);t["default"]=g},2532:function(e,t,n){"use strict";var a=n("23e7"),i=n("5a34"),r=n("1d80"),c=n("577e"),o=n("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~c(r(this)).indexOf(c(i(e)),arguments.length>1?arguments[1]:void 0)}})},"2cd3":function(e,t,n){"use strict";n("e20f")},"2eec":function(e,t,n){},"40be":function(e,t,n){"use strict";var a=n("7a23"),i=function(e){return Object(a["z"])("data-v-62721aaf"),e=e(),Object(a["x"])(),e},r={xmlns:"http://www.w3.org/2000/svg",class:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},c=i((function(){return Object(a["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)})),o=[c];function l(e,t){return Object(a["w"])(),Object(a["h"])("svg",r,o)}n("f159");var u=n("6b0d"),d=n.n(u);const s={},b=d()(s,[["render",l],["__scopeId","data-v-62721aaf"]]);t["a"]=b},"44e7":function(e,t,n){var a=n("861d"),i=n("c6b6"),r=n("b622"),c=r("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==i(e))}},"4af5":function(e,t,n){"use strict";n("2eec")},"5a34":function(e,t,n){var a=n("44e7");e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6f53":function(e,t,n){var a=n("83ab"),i=n("df75"),r=n("fc6a"),c=n("d1e7").f,o=function(e){return function(t){var n,o=r(t),l=i(o),u=l.length,d=0,s=[];while(u>d)n=l[d++],a&&!c.call(o,n)||s.push(e?[n,o[n]]:o[n]);return s}};e.exports={entries:o(!0),values:o(!1)}},a190:function(e,t,n){},aab2:function(e,t,n){"use strict";n("a190")},ab13:function(e,t,n){var a=n("b622"),i=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(a){}}return!1}},b34f:function(e,t,n){"use strict";var a=n("7a23"),i={class:"form-control"},r=["for"],c=["id","placeholder","value","aria-describedby","aria-invalid"],o=["id","placeholder","value","aria-describedby","aria-invalid"];function l(e,t,n,l,u,d){var s=Object(a["E"])("ErrorIcon"),b=Object(a["E"])("CheckIcon");return Object(a["w"])(),Object(a["h"])("div",i,[Object(a["i"])("label",{for:n.id},Object(a["H"])(n.label),9,r),n.textarea?(Object(a["w"])(),Object(a["h"])("textarea",Object(a["p"])({key:1},e.$attrs,{id:n.id,placeholder:n.label,class:{invalid:n.invalid},value:n.modelValue,onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.value)}),"aria-describedby":n.invalid?"".concat(n.id,"-invalid"):null,"aria-invalid":!!n.invalid||null}),null,16,o)):(Object(a["w"])(),Object(a["h"])("input",Object(a["p"])({key:0},e.$attrs,{id:n.id,placeholder:n.label,class:{invalid:n.invalid},value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),"aria-describedby":n.invalid?"".concat(n.id,"-invalid"):null,"aria-invalid":!!n.invalid||null}),null,16,c)),Object(a["k"])(a["b"],{mode:"out-in"},{default:Object(a["L"])((function(){return[n.invalid?(Object(a["w"])(),Object(a["f"])(s,{key:0,id:"".concat(n.id,"-invalid")},null,8,["id"])):(Object(a["w"])(),Object(a["f"])(b,{key:1}))]})),_:1})])}n("a9e3");var u=n("fe85"),d=n("40be"),s={components:{ErrorIcon:u["a"],CheckIcon:d["a"]},props:{label:{type:String,default:""},modelValue:{type:[String,Number],default:""},id:{type:String,required:!0},invalid:{type:Boolean,default:!0},textarea:{type:Boolean,default:!1}}},b=(n("aab2"),n("6b0d")),f=n.n(b);const v=f()(s,[["render",l],["__scopeId","data-v-71337722"]]);t["a"]=v},caad:function(e,t,n){"use strict";var a=n("23e7"),i=n("4d64").includes,r=n("44d2");a({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e20f:function(e,t,n){},f159:function(e,t,n){"use strict";n("00db")},fe85:function(e,t,n){"use strict";var a=n("7a23"),i=function(e){return Object(a["z"])("data-v-d75c7c0a"),e=e(),Object(a["x"])(),e},r={xmlns:"http://www.w3.org/2000/svg",class:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},c=i((function(){return Object(a["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)})),o=[c];function l(e,t){return Object(a["w"])(),Object(a["h"])("svg",r,o)}n("2cd3");var u=n("6b0d"),d=n.n(u);const s={},b=d()(s,[["render",l],["__scopeId","data-v-d75c7c0a"]]);t["a"]=b}}]);
//# sourceMappingURL=user-auth.2647eba8.js.map