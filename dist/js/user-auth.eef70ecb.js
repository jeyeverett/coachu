(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-auth"],{"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"19c8":function(e,t,n){},"1c43":function(e,t,n){},"212c":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),i=function(e){return Object(r["z"])("data-v-b69a9826"),e=e(),Object(r["x"])(),e},a=i((function(){return Object(r["i"])("h1",{style:{textAlign:"center","margin-bottom":"30px"}},"Sign-in / Sign-up",-1)})),c={key:0},o={key:1},u=Object(r["j"])(" Sign in "),l=i((function(){return Object(r["i"])("p",{style:{marginTop:"2rem",width:"100%",textAlign:"center",fontSize:"1.2rem",fontWeight:"bold"}}," OR ",-1)})),d=Object(r["j"])(" Sign up "),s={key:0,class:"inline-error"};function b(e,t,n,i,b,f){var v=Object(r["E"])("FormInput"),p=Object(r["E"])("BaseSpinner"),j=Object(r["E"])("BaseButton");return Object(r["w"])(),Object(r["h"])("section",null,[a,Object(r["i"])("form",{onSubmit:t[2]||(t[2]=Object(r["O"])((function(){}),["prevent"])),style:{margin:"0 auto"}},[Object(r["k"])(v,{type:"email",id:"email",label:"Email",modelValue:b.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.user.email=e}),modelModifiers:{trim:!0},invalid:b.invalid.email,onInput:f.validate},null,8,["modelValue","invalid","onInput"]),Object(r["k"])(v,{type:"password",id:"password",label:"Password",modelValue:b.user.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.user.password=e}),modelModifiers:{trim:!0},invalid:b.invalid.password,onInput:f.validate},null,8,["modelValue","invalid","onInput"]),e.isLoading?(Object(r["w"])(),Object(r["h"])("div",c,[Object(r["k"])(p)])):(Object(r["w"])(),Object(r["h"])("div",o,[Object(r["k"])(j,{id:"signin",style:{marginTop:"2rem",width:"100%"},disabled:!b.enableButton,mode:"register",class:Object(r["r"])(b.enableButton?"valid":"invalid"),onClick:f.submitForm},{default:Object(r["M"])((function(){return[u]})),_:1},8,["disabled","class","onClick"]),l,Object(r["k"])(j,{id:"signup",type:"button",style:{marginTop:"2rem",width:"100%"},disabled:!b.enableButton,class:Object(r["r"])(b.enableButton?"":"invalid"),onClick:f.submitForm},{default:Object(r["M"])((function(){return[d]})),_:1},8,["disabled","class","onClick"]),Object(r["k"])(r["b"],{name:"error"},{default:Object(r["M"])((function(){return[e.isError?(Object(r["w"])(),Object(r["h"])("div",s,Object(r["H"])(e.isError),1)):Object(r["g"])("",!0)]})),_:1})]))],32)])}var f=n("1da1"),v=n("5530"),p=(n("96cf"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("07ac"),n("5502")),j=n("b34f"),O={components:{FormInput:j["a"]},data:function(){return{invalid:{email:!0,password:!0},user:{email:"",password:""},enableButton:!1}},computed:Object(v["a"])({},Object(p["c"])(["isLoading","isError"])),methods:Object(v["a"])(Object(v["a"])({},Object(p["b"])(["authenticate","loadingStart","loadingFinish","loadingError"])),{},{validate:function(e){var t=e.target,n=t.id,r=t.value;"email"!==n||r.includes("@")&&r.includes(".")?this.invalid[n]=""===r||r.length<6:this.invalid[n]=!0},submitForm:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.target.id,i=t.$route.query.redirect,n.prev=2,t.loadingStart(),n.next=6,t.authenticate({user:t.user,id:r});case 6:t.user.email="",t.user.password="",t.loadingFinish(),t.$router.replace(i?"/register":"/coaches"),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](2),t.loadingFinish(),t.loadingError(n.t0.message||"Network error - please try again later.");case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()}}),watch:{invalid:{handler:function(e){this.enableButton=!Object.values(e).includes(!0)},deep:!0}}},m=(n("fd56"),n("6b0d")),h=n.n(m);const g=h()(O,[["render",b],["__scopeId","data-v-b69a9826"]]);t["default"]=g},"21e5":function(e,t,n){},"24ec":function(e,t,n){"use strict";n("21e5")},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80"),c=n("577e"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~c(a(this)).indexOf(c(i(e)),arguments.length>1?arguments[1]:void 0)}})},"2eea":function(e,t,n){"use strict";n("1c43")},"40be":function(e,t,n){"use strict";var r=n("7a23"),i=function(e){return Object(r["z"])("data-v-5f12c094"),e=e(),Object(r["x"])(),e},a={xmlns:"http://www.w3.org/2000/svg",class:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},c=i((function(){return Object(r["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)})),o=[c];function u(e,t){return Object(r["w"])(),Object(r["h"])("svg",a,o)}n("f164");var l=n("6b0d"),d=n.n(l);const s={},b=d()(s,[["render",u],["__scopeId","data-v-5f12c094"]]);t["a"]=b},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),c=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==i(e))}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),c=n("d1e7").f,o=function(e){return function(t){var n,o=a(t),u=i(o),l=u.length,d=0,s=[];while(l>d)n=u[d++],r&&!c.call(o,n)||s.push(e?[n,o[n]]:o[n]);return s}};e.exports={entries:o(!0),values:o(!1)}},a375:function(e,t,n){},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},b34f:function(e,t,n){"use strict";var r=n("7a23"),i={class:"form-control"},a=["for"],c=["id","placeholder","value","aria-describedby","aria-invalid"];function o(e,t,n,o,u,l){var d=Object(r["E"])("ErrorIcon"),s=Object(r["E"])("CheckIcon");return Object(r["w"])(),Object(r["h"])("div",i,[Object(r["i"])("label",{for:n.id},Object(r["H"])(n.label),9,a),Object(r["i"])("input",Object(r["p"])(e.$attrs,{id:n.id,placeholder:n.label,class:{invalid:n.invalid},value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),"aria-describedby":n.invalid?"".concat(n.id,"-invalid"):null,"aria-invalid":!!n.invalid||null}),null,16,c),Object(r["k"])(r["b"],{mode:"out-in"},{default:Object(r["M"])((function(){return[n.invalid?(Object(r["w"])(),Object(r["f"])(d,{key:0,id:"".concat(n.id,"-invalid")},null,8,["id"])):(Object(r["w"])(),Object(r["f"])(s,{key:1}))]})),_:1})])}n("a9e3");var u=n("fe85"),l=n("40be"),d={components:{ErrorIcon:u["a"],CheckIcon:l["a"]},props:{label:{type:String,default:""},modelValue:{type:[String,Number],default:""},id:{type:String,required:!0},invalid:{type:Boolean,default:!0}}},s=(n("24ec"),n("6b0d")),b=n.n(s);const f=b()(d,[["render",o],["__scopeId","data-v-0725c4f5"]]);t["a"]=f},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},f164:function(e,t,n){"use strict";n("a375")},fd56:function(e,t,n){"use strict";n("19c8")},fe85:function(e,t,n){"use strict";var r=n("7a23"),i=function(e){return Object(r["z"])("data-v-de1b3040"),e=e(),Object(r["x"])(),e},a={xmlns:"http://www.w3.org/2000/svg",class:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},c=i((function(){return Object(r["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)})),o=[c];function u(e,t){return Object(r["w"])(),Object(r["h"])("svg",a,o)}n("2eea");var l=n("6b0d"),d=n.n(l);const s={},b=d()(s,[["render",u],["__scopeId","data-v-de1b3040"]]);t["a"]=b}}]);
//# sourceMappingURL=user-auth.eef70ecb.js.map