(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-auth"],{"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"142f":function(e,t,n){},"212c":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),i=function(e){return Object(r["y"])("data-v-302aa614"),e=e(),Object(r["w"])(),e},a=i((function(){return Object(r["h"])("h1",{style:{textAlign:"center","margin-bottom":"30px"}},"Sign-in / Sign-up",-1)})),c={class:"form-control"},o=i((function(){return Object(r["h"])("label",{for:"email"},"Email",-1)})),u={class:"invalid-arrow"},s={class:"form-control"},l=i((function(){return Object(r["h"])("label",{for:"password"},"Password",-1)})),d={class:"invalid-arrow"},b={key:0},f={key:1},v=Object(r["i"])(" Sign in "),p=i((function(){return Object(r["h"])("p",{style:{marginTop:"2rem",width:"100%",textAlign:"center",fontSize:"1.2rem",fontWeight:"bold"}}," OR ",-1)})),j=Object(r["i"])(" Sign up "),O={key:0,class:"inline-error"};function h(e,t,n,i,h,m){var g=Object(r["D"])("BaseSpinner"),w=Object(r["D"])("BaseButton");return Object(r["v"])(),Object(r["g"])("section",null,[a,Object(r["h"])("form",{onSubmit:t[4]||(t[4]=Object(r["O"])((function(){}),["prevent"])),style:{margin:"0 auto"}},[Object(r["h"])("div",c,[o,Object(r["N"])(Object(r["h"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return h.user.email=e}),class:Object(r["q"])({invalid:h.invalid.email}),onInput:t[1]||(t[1]=function(){return m.validate&&m.validate.apply(m,arguments)})},null,34),[[r["J"],h.user.email,void 0,{trim:!0}]]),Object(r["j"])(r["b"],null,{default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["h"])("span",u,"→",512),[[r["K"],h.invalid.email]])]})),_:1})]),Object(r["h"])("div",s,[l,Object(r["N"])(Object(r["h"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return h.user.password=e}),class:Object(r["q"])({invalid:h.invalid.password}),onInput:t[3]||(t[3]=function(){return m.validate&&m.validate.apply(m,arguments)})},null,34),[[r["J"],h.user.password,void 0,{trim:!0}]]),Object(r["j"])(r["b"],null,{default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["h"])("span",d,"→",512),[[r["K"],h.invalid.password]])]})),_:1})]),e.isLoading?(Object(r["v"])(),Object(r["g"])("div",b,[Object(r["j"])(g)])):(Object(r["v"])(),Object(r["g"])("div",f,[Object(r["j"])(w,{id:"signin",style:{marginTop:"2rem",width:"100%"},disabled:!h.enableButton,mode:"register",class:Object(r["q"])(h.enableButton?"valid":"invalid"),onClick:m.submitForm},{default:Object(r["M"])((function(){return[v]})),_:1},8,["disabled","class","onClick"]),p,Object(r["j"])(w,{id:"signup",type:"button",style:{marginTop:"2rem",width:"100%"},disabled:!h.enableButton,class:Object(r["q"])(h.enableButton?"":"invalid"),onClick:m.submitForm},{default:Object(r["M"])((function(){return[j]})),_:1},8,["disabled","class","onClick"]),Object(r["j"])(r["b"],{name:"error"},{default:Object(r["M"])((function(){return[e.isError?(Object(r["v"])(),Object(r["g"])("div",O,Object(r["G"])(e.isError),1)):Object(r["f"])("",!0)]})),_:1})]))],32)])}var m=n("1da1"),g=n("5530"),w=(n("96cf"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("07ac"),n("5502")),y={data:function(){return{invalid:{email:!1,password:!1},user:{email:"",password:""},enableButton:!1}},computed:Object(g["a"])({},Object(w["c"])(["isLoading","isError"])),methods:Object(g["a"])(Object(g["a"])({},Object(w["b"])(["authenticate","loadingStart","loadingFinish","loadingError"])),{},{validate:function(e){var t=e.target,n=t.id,r=t.value;"email"!==n||r.includes("@")&&r.includes(".")?this.invalid[n]=""===r||r.length<6:this.invalid[n]=!0},submitForm:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.target.id,i=t.$route.query.redirect,n.prev=2,t.loadingStart(),n.next=6,t.authenticate({user:t.user,id:r});case 6:t.user.email="",t.user.password="",t.loadingFinish(),t.$router.replace(i?"/register":"/coaches"),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](2),t.loadingFinish(),t.loadingError(n.t0.message||"Network error - please try again later.");case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()}}),watch:{invalid:{handler:function(e){this.enableButton=!Object.values(e).includes(!0)},deep:!0}},created:function(){var e=this;setTimeout((function(){return e.invalid={email:!0,password:!0}}),300)}},x=(n("b6ef"),n("6b0d")),k=n.n(x);const S=k()(y,[["render",h],["__scopeId","data-v-302aa614"]]);t["default"]=S},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80"),c=n("577e"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~c(a(this)).indexOf(c(i(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),c=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==i(e))}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),c=n("d1e7").f,o=function(e){return function(t){var n,o=a(t),u=i(o),s=u.length,l=0,d=[];while(s>l)n=u[l++],r&&!c.call(o,n)||d.push(e?[n,o[n]]:o[n]);return d}};e.exports={entries:o(!0),values:o(!1)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},b6ef:function(e,t,n){"use strict";n("142f")},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")}}]);
//# sourceMappingURL=user-auth.f1d28053.js.map